{"version":3,"file":"sidebar.js","sources":["../src/util/index.js","../src/sidebar.js"],"sourcesContent":["/**\r\n * --------------------------------------------------------------------------\r\n * Bootstrap (v5.0.0-alpha1): util/index.js\r\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\r\n * --------------------------------------------------------------------------\r\n */\r\n\r\nconst MAX_UID = 1000000\r\nconst MILLISECONDS_MULTIPLIER = 1000\r\nconst TRANSITION_END = 'transitionend'\r\n\r\n// Shoutout AngusCroll (https://goo.gl/pxwQGp)\r\nconst toType = obj => {\r\n  if (obj === null || obj === undefined) {\r\n    return `${obj}`\r\n  }\r\n\r\n  return {}.toString.call(obj).match(/\\s([a-z]+)/i)[1].toLowerCase()\r\n}\r\n\r\n/**\r\n * --------------------------------------------------------------------------\r\n * Public Util Api\r\n * --------------------------------------------------------------------------\r\n */\r\n\r\nconst getUID = prefix => {\r\n  do {\r\n    prefix += Math.floor(Math.random() * MAX_UID)\r\n  } while (document.getElementById(prefix))\r\n\r\n  return prefix\r\n}\r\n\r\nconst getSelector = element => {\r\n  let selector = element.getAttribute('data-target')\r\n\r\n  if (!selector || selector === '#') {\r\n    const hrefAttr = element.getAttribute('href')\r\n\r\n    selector = hrefAttr && hrefAttr !== '#' ? hrefAttr.trim() : null\r\n  }\r\n\r\n  return selector\r\n}\r\n\r\nconst getSelectorFromElement = element => {\r\n  const selector = getSelector(element)\r\n\r\n  if (selector) {\r\n    return document.querySelector(selector) ? selector : null\r\n  }\r\n\r\n  return null\r\n}\r\n\r\nconst getElementFromSelector = element => {\r\n  const selector = getSelector(element)\r\n\r\n  return selector ? document.querySelector(selector) : null\r\n}\r\n\r\nconst getTransitionDurationFromElement = element => {\r\n  if (!element) {\r\n    return 0\r\n  }\r\n\r\n  // Get transition-duration of the element\r\n  let {\r\n    transitionDuration,\r\n    transitionDelay\r\n  } = window.getComputedStyle(element)\r\n\r\n  const floatTransitionDuration = parseFloat(transitionDuration)\r\n  const floatTransitionDelay = parseFloat(transitionDelay)\r\n\r\n  // Return 0 if element or transition duration is not found\r\n  if (!floatTransitionDuration && !floatTransitionDelay) {\r\n    return 0\r\n  }\r\n\r\n  // If multiple durations are defined, take the first\r\n  transitionDuration = transitionDuration.split(',')[0]\r\n  transitionDelay = transitionDelay.split(',')[0]\r\n\r\n  return (parseFloat(transitionDuration) + parseFloat(transitionDelay)) * MILLISECONDS_MULTIPLIER\r\n}\r\n\r\nconst triggerTransitionEnd = element => {\r\n  element.dispatchEvent(new Event(TRANSITION_END))\r\n}\r\n\r\nconst isElement = obj => (obj[0] || obj).nodeType\r\n\r\nconst emulateTransitionEnd = (element, duration) => {\r\n  let called = false\r\n  const durationPadding = 5\r\n  const emulatedDuration = duration + durationPadding\r\n  function listener() {\r\n    called = true\r\n    element.removeEventListener(TRANSITION_END, listener)\r\n  }\r\n\r\n  element.addEventListener(TRANSITION_END, listener)\r\n  setTimeout(() => {\r\n    if (!called) {\r\n      triggerTransitionEnd(element)\r\n    }\r\n  }, emulatedDuration)\r\n}\r\n\r\nconst typeCheckConfig = (componentName, config, configTypes) => {\r\n  Object.keys(configTypes)\r\n    .forEach(property => {\r\n      const expectedTypes = configTypes[property]\r\n      const value = config[property]\r\n      const valueType = value && isElement(value) ?\r\n        'element' :\r\n        toType(value)\r\n\r\n      if (!new RegExp(expectedTypes).test(valueType)) {\r\n        throw new Error(\r\n          `${componentName.toUpperCase()}: ` +\r\n          `Option \"${property}\" provided type \"${valueType}\" ` +\r\n          `but expected type \"${expectedTypes}\".`)\r\n      }\r\n    })\r\n}\r\n\r\nconst isVisible = element => {\r\n  if (!element) {\r\n    return false\r\n  }\r\n\r\n  if (element.style && element.parentNode && element.parentNode.style) {\r\n    const elementStyle = getComputedStyle(element)\r\n    const parentNodeStyle = getComputedStyle(element.parentNode)\r\n\r\n    return elementStyle.display !== 'none' &&\r\n      parentNodeStyle.display !== 'none' &&\r\n      elementStyle.visibility !== 'hidden'\r\n  }\r\n\r\n  return false\r\n}\r\n\r\nconst findShadowRoot = element => {\r\n  if (!document.documentElement.attachShadow) {\r\n    return null\r\n  }\r\n\r\n  // Can find the shadow root otherwise it'll return the document\r\n  if (typeof element.getRootNode === 'function') {\r\n    const root = element.getRootNode()\r\n    return root instanceof ShadowRoot ? root : null\r\n  }\r\n\r\n  if (element instanceof ShadowRoot) {\r\n    return element\r\n  }\r\n\r\n  // when we don't find a shadow root\r\n  if (!element.parentNode) {\r\n    return null\r\n  }\r\n\r\n  return findShadowRoot(element.parentNode)\r\n}\r\n\r\nconst noop = () => function () {}\r\n\r\nconst reflow = element => element.offsetHeight\r\n\r\nconst getjQuery = () => {\r\n  const { jQuery } = window\r\n\r\n  if (jQuery && !document.body.hasAttribute('data-no-jquery')) {\r\n    return jQuery\r\n  }\r\n\r\n  return null\r\n}\r\n\r\nexport {\r\n  getjQuery,\r\n  TRANSITION_END,\r\n  getUID,\r\n  getSelectorFromElement,\r\n  getElementFromSelector,\r\n  getTransitionDurationFromElement,\r\n  triggerTransitionEnd,\r\n  isElement,\r\n  emulateTransitionEnd,\r\n  typeCheckConfig,\r\n  isVisible,\r\n  findShadowRoot,\r\n  noop,\r\n  reflow\r\n}\r\n","/**\r\n * --------------------------------------------------------------------------\r\n * CoreUI (v3.2.0): sidebar.js\r\n * Licensed under MIT (https://coreui.io/license)\r\n * --------------------------------------------------------------------------\r\n */\r\n\r\nimport {\r\n  getjQuery,\r\n  reflow,\r\n  TRANSITION_END,\r\n  typeCheckConfig\r\n} from './util/index'\r\nimport Data from './dom/data'\r\nimport EventHandler from './dom/event-handler'\r\nimport Manipulator from './dom/manipulator'\r\nimport PerfectScrollbar from 'perfect-scrollbar'\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Constants\r\n * ------------------------------------------------------------------------\r\n */\r\n\r\nconst NAME = 'sidebar'\r\nconst VERSION = '3.2.0'\r\nconst DATA_KEY = 'coreui.sidebar'\r\nconst EVENT_KEY = `.${DATA_KEY}`\r\nconst DATA_API_KEY = '.data-api'\r\n\r\nconst Default = {\r\n  breakpoints: {\r\n    xs: 'c-sidebar-show',\r\n    sm: 'c-sidebar-sm-show',\r\n    md: 'c-sidebar-md-show',\r\n    lg: 'c-sidebar-lg-show',\r\n    xl: 'c-sidebar-xl-show'\r\n  },\r\n  dropdownAccordion: true\r\n}\r\n\r\nconst DefaultType = {\r\n  breakpoints: 'object',\r\n  dropdownAccordion: '(string|boolean)'\r\n}\r\n\r\nconst CLASS_NAME_ACTIVE = 'c-active'\r\nconst CLASS_NAME_BACKDROP = 'c-sidebar-backdrop'\r\nconst CLASS_NAME_FADE = 'c-fade'\r\nconst CLASS_NAME_NAV_DROPDOWN = 'c-sidebar-nav-dropdown'\r\nconst CLASS_NAME_NAV_DROPDOWN_TOGGLE = 'c-sidebar-nav-dropdown-toggle'\r\nconst CLASS_NAME_SHOW = 'c-show'\r\nconst CLASS_NAME_SIDEBAR_MINIMIZED = 'c-sidebar-minimized'\r\nconst CLASS_NAME_SIDEBAR_OVERLAID = 'c-sidebar-overlaid'\r\nconst CLASS_NAME_SIDEBAR_UNFOLDABLE = 'c-sidebar-unfoldable'\r\n\r\nconst EVENT_CLASS_TOGGLE = 'classtoggle'\r\nconst EVENT_CLICK_DATA_API = `click${EVENT_KEY}${DATA_API_KEY}`\r\nconst EVENT_CLOSE = `close${EVENT_KEY}`\r\nconst EVENT_CLOSED = `closed${EVENT_KEY}`\r\nconst EVENT_LOAD_DATA_API = `load${EVENT_KEY}${DATA_API_KEY}`\r\nconst EVENT_OPEN = `open${EVENT_KEY}`\r\nconst EVENT_OPENED = `opened${EVENT_KEY}`\r\n\r\nconst SELECTOR_NAV_DROPDOWN_TOGGLE = '.c-sidebar-nav-dropdown-toggle'\r\nconst SELECTOR_NAV_DROPDOWN = '.c-sidebar-nav-dropdown'\r\nconst SELECTOR_NAV_LINK = '.c-sidebar-nav-link'\r\nconst SELECTOR_NAVIGATION_CONTAINER = '.c-sidebar-nav'\r\nconst SELECTOR_SIDEBAR = '.c-sidebar'\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Class Definition\r\n * ------------------------------------------------------------------------\r\n */\r\n\r\nclass Sidebar {\r\n  constructor(element, config) {\r\n    if (typeof PerfectScrollbar === 'undefined') {\r\n      throw new TypeError('CoreUI\\'s sidebar require Perfect Scrollbar')\r\n    }\r\n\r\n    this._element = element\r\n    this._config = this._getConfig(config)\r\n    this._open = this._isVisible()\r\n    this._mobile = this._isMobile()\r\n    this._overlaid = this._isOverlaid()\r\n    this._minimize = this._isMinimized()\r\n    this._unfoldable = this._isUnfoldable()\r\n    this._setActiveLink()\r\n    this._ps = null\r\n    this._backdrop = null\r\n    this._psInit()\r\n    this._addEventListeners()\r\n\r\n    Data.setData(element, DATA_KEY, this)\r\n  }\r\n\r\n  // Getters\r\n\r\n  static get VERSION() {\r\n    return VERSION\r\n  }\r\n\r\n  static get Default() {\r\n    return Default\r\n  }\r\n\r\n  static get DefaultType() {\r\n    return DefaultType\r\n  }\r\n\r\n  // Public\r\n\r\n  open(breakpoint) {\r\n    EventHandler.trigger(this._element, EVENT_OPEN)\r\n\r\n    if (this._isMobile()) {\r\n      this._addClassName(this._firstBreakpointClassName())\r\n      this._showBackdrop()\r\n      EventHandler.one(this._element, TRANSITION_END, () => {\r\n        this._addClickOutListener()\r\n      })\r\n    } else if (breakpoint) {\r\n      this._addClassName(this._getBreakpointClassName(breakpoint))\r\n\r\n      if (this._isOverlaid()) {\r\n        EventHandler.one(this._element, TRANSITION_END, () => {\r\n          this._addClickOutListener()\r\n        })\r\n      }\r\n    } else {\r\n      this._addClassName(this._firstBreakpointClassName())\r\n\r\n      if (this._isOverlaid()) {\r\n        EventHandler.one(this._element, TRANSITION_END, () => {\r\n          this._addClickOutListener()\r\n        })\r\n      }\r\n    }\r\n\r\n    const complete = () => {\r\n      if (this._isVisible() === true) {\r\n        this._open = true\r\n        EventHandler.trigger(this._element, EVENT_OPENED)\r\n      }\r\n    }\r\n\r\n    EventHandler.one(this._element, TRANSITION_END, complete)\r\n  }\r\n\r\n  close(breakpoint) {\r\n    EventHandler.trigger(this._element, EVENT_CLOSE)\r\n\r\n    if (this._isMobile()) {\r\n      this._element.classList.remove(this._firstBreakpointClassName())\r\n      this._removeBackdrop()\r\n      this._removeClickOutListener()\r\n    } else if (breakpoint) {\r\n      this._element.classList.remove(this._getBreakpointClassName(breakpoint))\r\n      if (this._isOverlaid()) {\r\n        this._removeClickOutListener()\r\n      }\r\n    } else {\r\n      this._element.classList.remove(this._firstBreakpointClassName())\r\n      if (this._isOverlaid()) {\r\n        this._removeClickOutListener()\r\n      }\r\n    }\r\n\r\n    const complete = () => {\r\n      if (this._isVisible() === false) {\r\n        this._open = false\r\n        EventHandler.trigger(this._element, EVENT_CLOSED)\r\n      }\r\n    }\r\n\r\n    EventHandler.one(this._element, TRANSITION_END, complete)\r\n  }\r\n\r\n  toggle(breakpoint) {\r\n    if (this._open) {\r\n      this.close(breakpoint)\r\n    } else {\r\n      this.open(breakpoint)\r\n    }\r\n  }\r\n\r\n  minimize() {\r\n    if (!this._isMobile()) {\r\n      this._addClassName(CLASS_NAME_SIDEBAR_MINIMIZED)\r\n      this._minimize = true\r\n      this._psDestroy()\r\n    }\r\n  }\r\n\r\n  unfoldable() {\r\n    if (!this._isMobile()) {\r\n      this._addClassName(CLASS_NAME_SIDEBAR_UNFOLDABLE)\r\n      this._unfoldable = true\r\n    }\r\n  }\r\n\r\n  reset() {\r\n    if (this._element.classList.contains(CLASS_NAME_SIDEBAR_MINIMIZED)) {\r\n      this._element.classList.remove(CLASS_NAME_SIDEBAR_MINIMIZED)\r\n      this._minimize = false\r\n      EventHandler.one(this._element, TRANSITION_END, this._psInit())\r\n    }\r\n\r\n    if (this._element.classList.contains(CLASS_NAME_SIDEBAR_UNFOLDABLE)) {\r\n      this._element.classList.remove(CLASS_NAME_SIDEBAR_UNFOLDABLE)\r\n      this._unfoldable = false\r\n    }\r\n  }\r\n\r\n  // Private\r\n\r\n  _getConfig(config) {\r\n    config = {\r\n      ...this.constructor.Default,\r\n      ...Manipulator.getDataAttributes(this._element),\r\n      ...config\r\n    }\r\n\r\n    typeCheckConfig(\r\n      NAME,\r\n      config,\r\n      this.constructor.DefaultType\r\n    )\r\n\r\n    return config\r\n  }\r\n\r\n  _isMobile() {\r\n    return Boolean(window.getComputedStyle(this._element, null).getPropertyValue('--is-mobile'))\r\n  }\r\n\r\n  _isIOS() {\r\n    const iOSDevices = [\r\n      'iPad Simulator',\r\n      'iPhone Simulator',\r\n      'iPod Simulator',\r\n      'iPad',\r\n      'iPhone',\r\n      'iPod'\r\n    ]\r\n\r\n    const platform = Boolean(navigator.platform)\r\n\r\n    if (platform) {\r\n      while (iOSDevices.length) {\r\n        if (navigator.platform === iOSDevices.pop()) {\r\n          return true\r\n        }\r\n      }\r\n    }\r\n\r\n    return false\r\n  }\r\n\r\n  _isMinimized() {\r\n    return this._element.classList.contains(CLASS_NAME_SIDEBAR_MINIMIZED)\r\n  }\r\n\r\n  _isOverlaid() {\r\n    return this._element.classList.contains(CLASS_NAME_SIDEBAR_OVERLAID)\r\n  }\r\n\r\n  _isUnfoldable() {\r\n    return this._element.classList.contains(CLASS_NAME_SIDEBAR_UNFOLDABLE)\r\n  }\r\n\r\n  _isVisible() {\r\n    const rect = this._element.getBoundingClientRect()\r\n\r\n    return (\r\n      rect.top >= 0 &&\r\n      rect.left >= 0 &&\r\n      rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) && /* or $(window).height() */\r\n      rect.right <= (window.innerWidth || document.documentElement.clientWidth) /* or $(window).width() */\r\n    )\r\n  }\r\n\r\n  _addClassName(className) {\r\n    this._element.classList.add(className)\r\n  }\r\n\r\n  _firstBreakpointClassName() {\r\n    return Object.keys(Default.breakpoints).map(key => Default.breakpoints[key])[0]\r\n  }\r\n\r\n  _getBreakpointClassName(breakpoint) {\r\n    return Default.breakpoints[breakpoint]\r\n  }\r\n\r\n  _removeBackdrop() {\r\n    if (this._backdrop) {\r\n      this._backdrop.parentNode.removeChild(this._backdrop)\r\n      this._backdrop = null\r\n    }\r\n  }\r\n\r\n  _showBackdrop() {\r\n    if (!this._backdrop) {\r\n      this._backdrop = document.createElement('div')\r\n      this._backdrop.className = CLASS_NAME_BACKDROP\r\n      this._backdrop.classList.add(CLASS_NAME_FADE)\r\n      document.body.appendChild(this._backdrop)\r\n      reflow(this._backdrop)\r\n      this._backdrop.classList.add(CLASS_NAME_SHOW)\r\n    }\r\n  }\r\n\r\n  _clickOutListener(event, sidebar) {\r\n    if (event.target.closest(SELECTOR_SIDEBAR) === null) { // or use:\r\n      event.preventDefault()\r\n      event.stopPropagation()\r\n      sidebar.close()\r\n    }\r\n  }\r\n\r\n  _addClickOutListener() {\r\n    EventHandler.on(document, EVENT_CLICK_DATA_API, event => {\r\n      this._clickOutListener(event, this)\r\n    })\r\n  }\r\n\r\n  _removeClickOutListener() {\r\n    EventHandler.off(document, EVENT_CLICK_DATA_API)\r\n  }\r\n\r\n  // Sidebar navigation\r\n\r\n  _getAllSiblings(element, filter) {\r\n    const siblings = []\r\n    element = element.parentNode.firstChild\r\n    do {\r\n      if (element.nodeType === 3) {\r\n        continue // text node\r\n      }\r\n\r\n      if (!filter || filter(element)) {\r\n        siblings.push(element)\r\n      }\r\n\r\n    // eslint-disable-next-line no-cond-assign\r\n    } while (element = element.nextSibling)\r\n\r\n    return siblings\r\n  }\r\n\r\n  _toggleDropdown(event, sidebar) {\r\n    let toggler = event.target\r\n    if (!toggler.classList.contains(CLASS_NAME_NAV_DROPDOWN_TOGGLE)) {\r\n      toggler = toggler.closest(SELECTOR_NAV_DROPDOWN_TOGGLE)\r\n    }\r\n\r\n    const dataAttributes = toggler.closest(SELECTOR_NAVIGATION_CONTAINER).dataset\r\n\r\n    if (typeof dataAttributes.dropdownAccordion !== 'undefined') {\r\n      Default.dropdownAccordion = JSON.parse(dataAttributes.dropdownAccordion)\r\n    }\r\n\r\n    // TODO: find better solution\r\n    if (Default.dropdownAccordion === true) {\r\n      this._getAllSiblings(toggler.parentElement).forEach(element => {\r\n        if (element !== toggler.parentNode) {\r\n          if (element.classList && element.classList.contains(CLASS_NAME_NAV_DROPDOWN)) {\r\n            element.classList.remove(CLASS_NAME_SHOW)\r\n          }\r\n        }\r\n      })\r\n    }\r\n\r\n    toggler.parentNode.classList.toggle(CLASS_NAME_SHOW)\r\n    // TODO: Set the toggler's position near to cursor after the click.\r\n\r\n    // TODO: add transition end\r\n    sidebar._psUpdate()\r\n  }\r\n\r\n  // PerfectScrollbar\r\n\r\n  _psInit() {\r\n    if (this._element.querySelector(SELECTOR_NAVIGATION_CONTAINER) && !this._isIOS()) {\r\n      this._ps = new PerfectScrollbar(this._element.querySelector(SELECTOR_NAVIGATION_CONTAINER), {\r\n        suppressScrollX: true,\r\n        wheelPropagation: false\r\n      })\r\n    }\r\n  }\r\n\r\n  _psUpdate() {\r\n    if (this._ps) {\r\n      this._ps.update()\r\n    }\r\n  }\r\n\r\n  _psDestroy() {\r\n    if (this._ps) {\r\n      this._ps.destroy()\r\n      this._ps = null\r\n    }\r\n  }\r\n\r\n  _getParents(element, selector) {\r\n    // Setup parents array\r\n    const parents = []\r\n\r\n    // Get matching parent elements\r\n    for (; element && element !== document; element = element.parentNode) {\r\n      // Add matching parents to array\r\n      if (selector) {\r\n        if (element.matches(selector)) {\r\n          parents.push(element)\r\n        }\r\n      } else {\r\n        parents.push(element)\r\n      }\r\n    }\r\n\r\n    return parents\r\n  }\r\n\r\n  _setActiveLink() {\r\n    // eslint-disable-next-line unicorn/prefer-spread\r\n    Array.from(this._element.querySelectorAll(SELECTOR_NAV_LINK)).forEach(element => {\r\n      let currentUrl\r\n\r\n      const urlHasParams = /\\\\?.*=/\r\n      const urlHasQueryString = /\\\\?./\r\n      const urlHasHash = /#./\r\n\r\n      if (urlHasParams.test(String(window.location)) || urlHasQueryString.test(String(window.location))) {\r\n        currentUrl = String(window.location).split('?')[0]\r\n      } else if (urlHasHash.test(String(window.location))) {\r\n        currentUrl = String(window.location).split('#')[0]\r\n      } else {\r\n        currentUrl = String(window.location)\r\n      }\r\n\r\n      if (currentUrl.slice(- 1) === '#') {\r\n        currentUrl = currentUrl.slice(0, -1)\r\n      }\r\n\r\n      if (element.href === currentUrl) {\r\n        element.classList.add(CLASS_NAME_ACTIVE)\r\n        // eslint-disable-next-line unicorn/prefer-spread\r\n        Array.from(this._getParents(element, SELECTOR_NAV_DROPDOWN)).forEach(element => {\r\n          element.classList.add(CLASS_NAME_SHOW)\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  _addEventListeners() {\r\n    if (this._mobile && this._open) {\r\n      this._addClickOutListener()\r\n    }\r\n\r\n    if (this._overlaid && this._open) {\r\n      this._addClickOutListener()\r\n    }\r\n\r\n    EventHandler.on(this._element, EVENT_CLASS_TOGGLE, event => {\r\n      if (event.detail.className === CLASS_NAME_SIDEBAR_MINIMIZED) {\r\n        if (this._element.classList.contains(CLASS_NAME_SIDEBAR_MINIMIZED)) {\r\n          this.minimize()\r\n        } else {\r\n          this.reset()\r\n        }\r\n      }\r\n\r\n      if (event.detail.className === CLASS_NAME_SIDEBAR_UNFOLDABLE) {\r\n        if (this._element.classList.contains(CLASS_NAME_SIDEBAR_UNFOLDABLE)) {\r\n          this.unfoldable()\r\n        } else {\r\n          this.reset()\r\n        }\r\n      }\r\n\r\n      if (typeof Object.keys(Default.breakpoints).find(key => Default.breakpoints[key] === event.detail.className) !== 'undefined') {\r\n        const { className } = event.detail\r\n        const breakpoint = Object.keys(Default.breakpoints).find(key => Default.breakpoints[key] === className)\r\n\r\n        if (event.detail.add) {\r\n          this.open(breakpoint)\r\n        } else {\r\n          this.close(breakpoint)\r\n        }\r\n      }\r\n    })\r\n\r\n    EventHandler.on(this._element, EVENT_CLICK_DATA_API, SELECTOR_NAV_DROPDOWN_TOGGLE, event => {\r\n      event.preventDefault()\r\n      this._toggleDropdown(event, this)\r\n    })\r\n\r\n    EventHandler.on(this._element, EVENT_CLICK_DATA_API, SELECTOR_NAV_LINK, () => {\r\n      if (this._isMobile()) {\r\n        this.close()\r\n      }\r\n    })\r\n  }\r\n\r\n  // Static\r\n\r\n  static _sidebarInterface(element, config) {\r\n    let data = Data.getData(element, DATA_KEY)\r\n    const _config = typeof config === 'object' && config\r\n\r\n    if (!data) {\r\n      data = new Sidebar(element, _config)\r\n    }\r\n\r\n    if (typeof config === 'string') {\r\n      if (typeof data[config] === 'undefined') {\r\n        throw new TypeError(`No method named \"${config}\"`)\r\n      }\r\n\r\n      data[config]()\r\n    }\r\n  }\r\n\r\n  static jQueryInterface(config) {\r\n    return this.each(function () {\r\n      Sidebar._sidebarInterface(this, config)\r\n    })\r\n  }\r\n\r\n  static getInstance(element) {\r\n    return Data.getData(element, DATA_KEY)\r\n  }\r\n}\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Data Api implementation\r\n * ------------------------------------------------------------------------\r\n */\r\n\r\nEventHandler.on(window, EVENT_LOAD_DATA_API, () => {\r\n  // eslint-disable-next-line unicorn/prefer-spread\r\n  Array.from(document.querySelectorAll(SELECTOR_SIDEBAR)).forEach(element => {\r\n    Sidebar._sidebarInterface(element)\r\n  })\r\n})\r\n\r\nconst $ = getjQuery()\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * jQuery\r\n * ------------------------------------------------------------------------\r\n */\r\n\r\nif ($) {\r\n  const JQUERY_NO_CONFLICT = $.fn[NAME]\r\n  $.fn[NAME] = Sidebar.jQueryInterface\r\n  $.fn[NAME].Constructor = Sidebar\r\n  $.fn[NAME].noConflict = () => {\r\n    $.fn[NAME] = JQUERY_NO_CONFLICT\r\n    return Sidebar.jQueryInterface\r\n  }\r\n}\r\n\r\nexport default Sidebar\r\n"],"names":["TRANSITION_END","toType","obj","undefined","toString","call","match","toLowerCase","isElement","nodeType","typeCheckConfig","componentName","config","configTypes","Object","keys","forEach","property","expectedTypes","value","valueType","RegExp","test","Error","toUpperCase","reflow","element","offsetHeight","getjQuery","window","jQuery","document","body","hasAttribute","NAME","VERSION","DATA_KEY","EVENT_KEY","DATA_API_KEY","Default","breakpoints","xs","sm","md","lg","xl","dropdownAccordion","DefaultType","CLASS_NAME_ACTIVE","CLASS_NAME_BACKDROP","CLASS_NAME_FADE","CLASS_NAME_NAV_DROPDOWN","CLASS_NAME_NAV_DROPDOWN_TOGGLE","CLASS_NAME_SHOW","CLASS_NAME_SIDEBAR_MINIMIZED","CLASS_NAME_SIDEBAR_OVERLAID","CLASS_NAME_SIDEBAR_UNFOLDABLE","EVENT_CLASS_TOGGLE","EVENT_CLICK_DATA_API","EVENT_CLOSE","EVENT_CLOSED","EVENT_LOAD_DATA_API","EVENT_OPEN","EVENT_OPENED","SELECTOR_NAV_DROPDOWN_TOGGLE","SELECTOR_NAV_DROPDOWN","SELECTOR_NAV_LINK","SELECTOR_NAVIGATION_CONTAINER","SELECTOR_SIDEBAR","Sidebar","PerfectScrollbar","TypeError","_element","_config","_getConfig","_open","_isVisible","_mobile","_isMobile","_overlaid","_isOverlaid","_minimize","_isMinimized","_unfoldable","_isUnfoldable","_setActiveLink","_ps","_backdrop","_psInit","_addEventListeners","Data","setData","open","breakpoint","EventHandler","trigger","_addClassName","_firstBreakpointClassName","_showBackdrop","one","_addClickOutListener","_getBreakpointClassName","complete","close","classList","remove","_removeBackdrop","_removeClickOutListener","toggle","minimize","_psDestroy","unfoldable","reset","contains","constructor","Manipulator","getDataAttributes","Boolean","getComputedStyle","getPropertyValue","_isIOS","iOSDevices","platform","navigator","length","pop","rect","getBoundingClientRect","top","left","bottom","innerHeight","documentElement","clientHeight","right","innerWidth","clientWidth","className","add","map","key","parentNode","removeChild","createElement","appendChild","_clickOutListener","event","sidebar","target","closest","preventDefault","stopPropagation","on","off","_getAllSiblings","filter","siblings","firstChild","push","nextSibling","_toggleDropdown","toggler","dataAttributes","dataset","JSON","parse","parentElement","_psUpdate","querySelector","suppressScrollX","wheelPropagation","update","destroy","_getParents","selector","parents","matches","Array","from","querySelectorAll","currentUrl","urlHasParams","urlHasQueryString","urlHasHash","String","location","split","slice","href","detail","find","_sidebarInterface","data","getData","jQueryInterface","each","getInstance","$","JQUERY_NO_CONFLICT","fn","Constructor","noConflict"],"mappings":"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"}